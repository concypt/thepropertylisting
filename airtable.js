"use strict";(()=>{async function g(r){let n="https://api.airtable.com/v0/appWNf6XfqAR6n0oT/"+r+"?api_key=keyUxdcC40qxNrt1Y";return await(await fetch(n)).json()}g(tableName).then(r=>y(r));var y=r=>{let n=r.records;n.forEach(e=>{e.fields["Unit/Lot"]&&(e.fields["Unit/Lot"]=parseInt(e.fields["Unit/Lot"])),e.fields.Price&&(e.fields.Price="$"+T(e.fields.Price))}),console.log(n);let a=n[0].fields,c=Object.keys(a),s=document.querySelector('[data-element="table-row"]'),i=s==null?void 0:s.firstChild;s!=null&&s.innerHTML&&(s.innerHTML="");let o="grid-template-columns: ";c.forEach(e=>{let d=i==null?void 0:i.cloneNode(!0);d.textContent=e,d.setAttribute("data-sortelement",e),s==null||s.append(d),o=o+"1fr "}),document.querySelectorAll(".s-table-row-inner").forEach(e=>{e.setAttribute("style",o)});let t=document.querySelector('[data-element="stocklist-row"]');if(!t)return;let l=t==null?void 0:t.parentElement;if(!l)return;u(n,t,l,"Unit/Lot","asc",c),document.querySelectorAll(".s-table-head-item").forEach(e=>{e.addEventListener("click",d=>{var m,L,p;d.preventDefault(),e.classList.contains("selected")||((m=document.querySelector(".selected"))==null||m.classList.remove("asc"),(L=document.querySelector(".selected"))==null||L.classList.remove("desc"),(p=document.querySelector(".selected"))==null||p.classList.remove("selected")),e.classList.contains("desc")&&!e.classList.contains("first")?(u(n,t,l,e.dataset.sortelement,"asc",c),e.classList.add("selected","asc"),e.classList.remove("desc")):(u(n,t,l,e.dataset.sortelement,"desc",c),e.classList.contains("first")||(e.classList.add("selected","desc"),e.classList.remove("asc")))})})},u=(r,n,a,c,s,i)=>{a.innerHTML="";let o=!1,t=v(r,c,s);for(let l in t)if(t.hasOwnProperty(l)){let f=t[l].fields,e=E(n,f,i);if(!e)return;o&&e.classList.add("colored"),o=!o,a.append(e)}},E=(r,n,a)=>{let c=r.cloneNode(!0),s=c.querySelector(".s-table-cell-item"),i=s==null?void 0:s.parentElement;if(!!i&&!!s)return i.innerHTML="",c.innerHTML="",a.forEach(o=>{let t=s.cloneNode(!0);t.setAttribute("data-element",o),t.textContent=n[o],i.append(t)}),c.append(i),c},v=(r,n,a)=>{if(n==="Default")return r;let c=typeof r[0].fields[n];if(!c)return;let s=r.slice(0);return c==="number"?(console.log("number"),console.log(r),s.sort(function(i,o){let t;return a==="desc"?t=o.fields[n]-i.fields[n]:a==="asc"&&(t=i.fields[n]-o.fields[n]),t})):(c==="string"||c==="Default")&&(console.log("string"),s.sort(function(i,o){let t=i.fields[n].toLowerCase(),l=o.fields[n].toLowerCase(),f;return a==="desc"?f=l<t?-1:l>t?1:0:a==="asc"&&(f=t<l?-1:t>l?1:0),f})),s};function T(r){return r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}})();
